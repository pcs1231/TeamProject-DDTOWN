<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<%@ taglib prefix="fmt" uri="jakarta.tags.fmt" %>
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DD TOWN 아티스트 프로필</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700;900&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="<%=request.getContextPath()%>/resources/css/common/reset.css">
    <link rel="stylesheet" href="<%=request.getContextPath()%>/resources/css/common/variables.css">
    <link rel="stylesheet" href="<%=request.getContextPath()%>/resources/css/common/base.css">
    <link rel="stylesheet" href="<%=request.getContextPath()%>/resources/css/common/layout.css">
    <link rel="stylesheet" href="<%=request.getContextPath()%>/resources/css/components/navigation.css">
    <link rel="stylesheet" href="<%=request.getContextPath()%>/resources/css/components/buttons.css">
    <link rel="stylesheet" href="<%=request.getContextPath()%>/resources/css/components/footer.css">
    <link rel="stylesheet" href="<%=request.getContextPath()%>/resources/css/pages/artist.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header class="site-header">
        <div class="header-container container">
            <div class="logo">
                <h1><a href="<%=request.getContextPath()%>/views/corporate/main.jsp">DD TOWN</a></h1>
            </div>
            <nav class="main-nav">
                <button class="nav-toggle" aria-label="메뉴 열기/닫기">
                    <span class="hamburger"></span>
                </button>
                <ul>
                    <li class="has-submenu">
                        <a href="#">기업 정보</a>
                        <ul class="submenu">
                            <li><a href="<%=request.getContextPath()%>/views/corporate/finance.jsp">재무정보</a></li>
                            <li><a href="<%=request.getContextPath()%>/views/corporate/about.jsp">기업소개</a></li>
                            <li><a href="<%=request.getContextPath()%>/views/corporate/notice/noticeList.jsp">기업 공지</a></li>
                            <li><a href="<%=request.getContextPath()%>/views/corporate/location.jsp">기업 위치</a></li>
                        </ul>
                    </li>
                    <li><a href="<%=request.getContextPath()%>/corporate/corporate_audition_schedule.jsp">오디션</a></li>
                    <li><a href="<%=request.getContextPath()%>/corporate/corporate_artist_profile.jsp">아티스트 프로필</a></li>
                    <li><a href="<%=request.getContextPath()%>/2.user_side/2.main/artist_community_main.jsp">아티스트 커뮤니티</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="artist-hero">
            <div class="container">
                <h2>아티스트 프로필</h2>
                <p>DD TOWN 소속 아티스트들을 만나보세요.</p>
            </div>
        </section>

        <section class="artist-list-section">
		    <div class="container">
		        <div class="artist-grid">
				    <c:forEach items="${artistGroupList}" var="group">
				        <div class="artist-card"
				             data-name="${group.artGroupNm}"
				             data-debut="${group.artGroupDebutdate}"
				             data-album="${group.debutAlbum}"
				             data-img="${group.artGroupProfileImg}">
				            <div class="artist-image-wrapper">
				                <img src="${group.artGroupProfileImg}" alt="${group.artGroupNm} 프로필">
				            </div>
				            <div class="artist-info">
				                <div class="artist-name">${group.artGroupNm}</div>
				                <div class="artist-debut">${group.artGroupDebutdate.replaceAll('/', '.')} 데뷔</div>
				            </div>
				        </div>
				    </c:forEach>
				</div>
		    </div>
		</section>

        <div id="artist-modal" class="artist-modal" style="display:none;">
            <div class="artist-modal-content">
                <span class="artist-modal-close">&times;</span>
                <img id="modal-artist-img" src="" alt="아티스트 프로필" class="modal-artist-img">
                <div class="modal-artist-info">
                    <h3 id="modal-artist-name"></h3>
                    <p><strong>데뷔일:</strong> <span id="modal-artist-debut"></span></p>
                    <p><strong>데뷔앨범:</strong> <span id="modal-artist-album"></span></p>
                </div>
            </div>
        </div>
    </main>

   

    <script>
	    document.addEventListener('DOMContentLoaded', function() {
	        // 카드 클릭 시 모달 띄우기
	        document.querySelectorAll('.artist-card').forEach(function(card) {
	            card.addEventListener('click', function() {
	                document.getElementById('modal-artist-img').src = card.dataset.img;
	                document.getElementById('modal-artist-img').alt = card.dataset.name + " 프로필";
	                document.getElementById('modal-artist-name').textContent = card.dataset.name;
	                document.getElementById('modal-artist-debut').textContent = card.dataset.debut;
	                document.getElementById('modal-artist-album').textContent = card.dataset.album;
	                document.getElementById('artist-modal').style.display = 'flex';
	            });
	        });
	
	        // 모달 닫기
	        document.querySelector('.artist-modal-close').addEventListener('click', function() {
	            document.getElementById('artist-modal').style.display = 'none';
	        });
	
	        // 모달 바깥 클릭 시 닫기
	        document.getElementById('artist-modal').addEventListener('click', function(e) {
	            if (e.target === this) {
	                this.style.display = 'none';
	            }
	        });
	    });
    </script>
</body>
</html>