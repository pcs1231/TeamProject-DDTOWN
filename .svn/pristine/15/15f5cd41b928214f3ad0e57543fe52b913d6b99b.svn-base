<%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"
	language="java"%>
	<%@ taglib uri="jakarta.tags.core" prefix="c"%>
	<%@ taglib uri="jakarta.tags.fmt" prefix="fmt"%>
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>DDTOWN SQUARE</title>
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/pages/mainservice_home.css" />
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/pages/artist_community.css" />
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/pages/artist_community_main.css" />
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>
<style type="text/css">
	/* 기존 스타일 유지 */
	.artist-grid {
	  display: grid;
	  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
	  gap: 30px;
	  padding: 30px; /* .container 클래스에서 이미 설정 */
	  max-width: 1400px; /* .container 클래스에서 이미 설정 */
	  margin: 0 auto; /* .container 클래스에서 이미 설정 */
	}

	.artist-item {
	  background: #fff;
	  border-radius: 12px;
	  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
	  transition: transform 0.3s ease, box-shadow 0.3s ease;
	  height: 100%;
	}

	.artist-item:hover {
	  transform: translateY(-5px);
	  box-shadow: 0 6px 12px rgba(0,0,0,0.15);
	}

	.artist-link {
	  text-decoration: none;
	  color: inherit;
	  display: block;
	  padding: 20px;
	  height: 100%;
	}

	.artist-image-placeholder {
	  width: 100%;
	  height: 300px;
	  background: #f5f5f5;
	  display: flex;
	  align-items: center;
	  justify-content: center;
	  border-radius: 8px;
	  margin-bottom: 15px;
	  overflow: hidden;
	}

	.artist-image {
	  width: 100%;
	  height: 100%;
	  object-fit: cover;
	  border-radius: 8px;
	}

	.artist-name {
	  text-align: center;
	  font-weight: bold;
	  margin: 0;
	  color: #333;
	  font-size: 1.2em;
	  padding: 10px 0;
	}

    /* 팔로우 아티스트 섹션 스타일 (div.container와 동일 UI) */
    .followed-artists-section { /* 클래스명 변경: -fixed- 제거 */
        background-color: #f9f9f9; /* 배경색 변경 (선택 사항) */
        /* padding, max-width, margin: 0 auto 는 .container 클래스가 처리 */
        margin-top: 30px; /* 배너와의 상단 간격 */
        margin-bottom: 30px; /* 아래 콘텐츠와의 하단 간격 */
        border-radius: 12px; /* artist-item과 유사한 둥근 모서리 */
        box-shadow: 0 4px 8px rgba(0,0,0,0.05); /* 은은한 그림자 */
    }

    .followed-artists-section .section-title {
        text-align: center;
        margin: 0 0 20px 0; /* 제목 하단 간격 늘림 */
        color: #333;
        font-size: 1.5em; /* 제목 크기 키움 */
        padding-top: 10px; /* 상단 패딩 추가 */
    }

    .followed-artists-section .followed-list {
        display: flex; /* 가로로 나열 */
        justify-content: center; /* 가운데 정렬 */
        align-items: center;
        list-style: none;
        padding: 0;
        margin: 0;
        gap: 30px; /* 아티스트 항목 간 간격 (artist-grid와 유사하게) */
        flex-wrap: wrap; /* 공간 부족 시 줄바꿈 */
        /* max-width, margin: 0 auto 는 .container 클래스가 처리 */
    }

    .followed-artists-section .followed-list li {
        margin-bottom: 0; /* 상하 마진 제거 */
    }

    .followed-artists-section .followed-artist-link {
        display: flex;
        flex-direction: column; /* 이미지와 이름을 세로로 정렬 */
        align-items: center; /* 가운데 정렬 */
        text-decoration: none;
        color: #555;
        transition: color 0.2s ease;
        font-size: 1.0em; /* 텍스트 크기 조절 */
        white-space: nowrap; /* 이름 줄바꿈 방지 */
    }

    .followed-artists-section .followed-artist-link:hover {
        color: #8a2be2; /* 호버 시 보라색으로 변경 */
    }

    .followed-artists-section .followed-artist-profile {
        width: 60px; /* 프로필 이미지 크기 키움 */
        height: 60px; /* 프로필 이미지 크기 키움 */
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 8px; /* 이름과의 간격 */
        border: 2px solid #ddd; /* 테두리 추가 */
        transition: border-color 0.2s ease, transform 0.2s ease;
    }

    .followed-artists-section .followed-artist-link:hover .followed-artist-profile {
        border-color: #8a2be2; /* 호버 시 테두리 색상 변경 */
        transform: scale(1.05); /* 호버 시 약간 확대 */
    }
    .swiper{
    	height: 400px;
    }
</style>
</head>

<body>
    <jsp:include page="/WEB-INF/views/modules/communityHeader.jsp" />

	<section class="slider-section">
		<div class="slider-container swiper">
			<div class="slider-wrapper swiper-wrapper">
				<div class="slide-item swiper-slide" style="background-color: #ffb6c1">
					<span>Slide 1: Event</span>
				</div>
				<div class="slide-item swiper-slide" style="background-color: #add8e6">
					<span>Slide 2: Notice</span>
				</div>
				<div class="slide-item swiper-slide" style="background-color: #90ee90">
					<span>Slide 3: Promotion</span>
				</div>
				<div class="slide-item swiper-slide" style="background-color: #ffd700">
					<span>Slide 4: New Artist</span>
				</div>
				<div class="slide-item swiper-slide" style="background-color: #f08080">
					<span>Slide 5: Special</span>
				</div>
			</div>
			<button class="slide-button prev" aria-label="이전 슬라이드">
				&#10094;</button>
			<button class="slide-button next" aria-label="다음 슬라이드">
				&#10095;</button>
		</div>
		<div class="slide-dots"></div>
	</section>

    <%-- 팔로우 아티스트 섹션을 div.container와 동일 UI로 변경 --%>
    <div class="followed-artists-section container">
        <h3 class="section-title">내가 팔로우하는 아티스트</h3>
        <ul class="followed-list">
            <%-- 하드코딩된 팔로우 아티스트 목록 예시입니다. --%>
            <li>
                <a href="${pageContext.request.contextPath}/community/gate/1" class="followed-artist-link">
                    <img src="${pageContext.request.contextPath}/resources/images/artist1_profile.png" alt="아티스트1 프로필" class="followed-artist-profile" />
                    <span>아티스트 그룹 1</span>
                </a>
            </li>
            <li>
                <a href="${pageContext.request.contextPath}/community/gate/2" class="followed-artist-link">
                    <img src="${pageContext.request.contextPath}/resources/images/artist2_profile.png" alt="아티스트2 프로필" class="followed-artist-profile" />
                    <span>아티스트 그룹 2</span>
                </a>
            </li>
            <li>
                <a href="${pageContext.request.contextPath}/community/gate/3" class="followed-artist-link">
                    <img src="${pageContext.request.contextPath}/resources/images/artist3_profile.png" alt="아티스트3 프로필" class="followed-artist-profile" />
                    <span>아티스트 그룹 3</span>
                </a>
            </li>
            <li>
                <a href="${pageContext.request.contextPath}/community/gate/4" class="followed-artist-link">
                    <img src="${pageContext.request.contextPath}/resources/images/default_artist_profile.png" alt="아티스트4 프로필" class="followed-artist-profile" />
                    <span>아티스트 그룹 4 (기본 이미지)</span>
                </a>
            </li>
            <li>
                <a href="${pageContext.request.contextPath}/community/gate/5" class="followed-artist-link">
                    <img src="${pageContext.request.contextPath}/resources/images/default_artist_profile.png" alt="아티스트5 프로필" class="followed-artist-profile" />
                    <span>아티스트 그룹 5</span>
                </a>
            </li>
            <li>
                <a href="${pageContext.request.contextPath}/community/gate/6" class="followed-artist-link">
                    <img src="${pageContext.request.contextPath}/resources/images/default_artist_profile.png" alt="아티스트6 프로필" class="followed-artist-profile" />
                    <span>아티스트 그룹 6</span>
                </a>
            </li>
            <%-- 하드코딩된 목록 끝 --%>
        </ul>
    </div>

	<div class="container">
		<h2>DDTOWN의 아티스트를 만나보세요!</h2>
		<div class="artist-grid">
			<c:forEach items="${groups }" var="group">
				<div class="artist-item">
					<a href="/community/gate/${group.artGroupNo}" class="artist-link">
						<div class="artist-image-placeholder">
							<c:if test="${not empty group.artGroupProfileImg }">
								<img alt="${group.artGroupNm }" src="${group.artGroupProfileImg }" class="artist-image">
							</c:if>
							<c:if test="${empty group.artGroupProfileImg }">
								<span>이미지</span>
							</c:if>
						</div>
						<p class="artist-name">${group.artGroupNm }</p>
					</a>
				</div>
			</c:forEach>
		</div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script type="text/javascript">
    	const swiper = new Swiper('.swiper', {
	    	  loop: true,
	    	  autoplay : {
	    		  delay : 10,
	    	  },

	    	  // Navigation arrows
	    	  navigation: {
	    	    nextEl: '.slide-button.next',
	    	    prevEl: '.slide-button.prev',
	    	  }

    	});
    </script>
</body>
</html>