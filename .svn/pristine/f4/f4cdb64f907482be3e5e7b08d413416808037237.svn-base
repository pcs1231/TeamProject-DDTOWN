// =============================================================
// 전역 함수 정의 영역
// =============================================================
function startLive() {
    // 디버깅용 alert은 이제 제거하고 최종 코드로 정리합니다.
    const mediaServerUrl = document.getElementById('mediaServerUrl').value;
    const artGroupNo = document.getElementById('communityArtistGroupNo').value;
    const currentUserId = document.getElementById('stream-info').dataset.userId; 

	console.log("mediaServerUrl");
	
    if (!currentUserId) {
        alert("로그인이 필요합니다.");
        return;
    }

    if (!mediaServerUrl || !artGroupNo) {
        alert("방송 정보를 불러올 수 없습니다. 페이지를 새로고침 해주세요.");
        return;
    }
    
    const broadcastURL = `${mediaServerUrl}/broadcast/new?artGroupNo=${artGroupNo}&userId=${currentUserId}`;
    console.log("새 창으로 여는 URL:", broadcastURL);
    window.open(broadcastURL, 'broadcastWindow', 'width=1280,height=720');
}

function watchLive() {
    const mediaServerUrl = document.getElementById('mediaServerUrl').value;
    const artGroupNo = document.getElementById('communityArtistGroupNo').value;
    
    const watchURL = `${mediaServerUrl}/?artGroupNo=${artGroupNo}`;
    console.log("새 창으로 여는 URL:", watchURL);
    window.open(watchURL, 'watchWindow', 'width=1280,height=720');
}
