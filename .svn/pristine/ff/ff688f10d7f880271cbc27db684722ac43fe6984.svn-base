<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="jakarta.tags.core" prefix="c" %>
<%@ taglib uri="http://www.springframework.org/security/tags" prefix="sec" %>

<header class="main-header">
    <nav class="header-nav">
        <div class="header-left">
		    <a href="${pageContext.request.contextPath}/" class="home-link">
		        <img src="${pageContext.request.contextPath}/resources/img/ddtownlogo.png" alt="DD ë¡œê³ " class="header-logo">
		        DDTOWN SQUARE
		    </a>
		</div>
       <div class="header-right">
            <li><a href="${pageContext.request.contextPath}/notifications" class="icon-btn" title="ì•Œë¦¼">ğŸ””</a></li>
            <li><a href="<c:url value='/mypage'/>" class="icon-btn active" title="ë§ˆì´í˜ì´ì§€">ğŸ‘¤</a></li>
            <li><a href="${pageContext.request.contextPath}/cart" class="icon-btn" aria-label="ì¥ë°”êµ¬ë‹ˆ">ğŸ›’</a></li>
            <li><a href="${pageContext.request.contextPath}/customerService" class="icon-btn" title="ê³ ê°ì„¼í„°">ğŸ‘©â€ğŸ’»</a></li>
            <sec:authorize access="isAuthenticated()">
                <form id="logoutForm" action="<c:url value='/logout'/>" method="post" style="display:inline;">
                    <sec:csrfInput/>
                    <button type="button" onclick="document.getElementById('logoutForm').submit(); return false;" class="auth-link">ë¡œê·¸ì•„ì›ƒ</button>
                </form>
            </sec:authorize>
            <sec:authorize access="isAnonymous()">
                 <a href="${pageContext.request.contextPath}/login" class="auth-link">ë¡œê·¸ì¸</a>
            </sec:authorize>
        </div>
    </nav>
    <nav class="main-navigation">
        <ul class="menu-list">
            <li><a href="${pageContext.request.contextPath}/goods" class="menu-item">êµ¿ì¦ˆìƒµ</a></li>
            <li>
                <a href="${pageContext.request.contextPath}/survey" class="menu-item">ì„ í˜¸ë„ ì¡°ì‚¬</a>
                <ul class="submenu">
                    <li><a href="${pageContext.request.contextPath}/survey/vote" class="menu-item">ì¸ê¸° íˆ¬í‘œ</a></li>
                </ul>
            </li>
            <li><a href="${pageContext.request.contextPath}/concerts" class="menu-item">ì½˜ì„œíŠ¸</a></li>
        </ul>
    </nav>
</header>

<style type="text/css">
/* communityHeader.jsp ì „ìš© ìŠ¤íƒ€ì¼ */
.main-header {
    background-color: #fff;
    border-bottom: 1px solid #eee;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    position: sticky; /* ìŠ¤í¬ë¡¤ ì‹œ ìƒë‹¨ ê³ ì • */
    top: 0;
    z-index: 1000;
}

.header-nav {
    display: flex;
    justify-content: space-between; /* ì–‘ìª½ ëìœ¼ë¡œ ì •ë ¬ */
    align-items: center;
    max-width: 100%; /* ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
    margin: 0 0; /* ì¤‘ì•™ ì •ë ¬ */
}

/* .header-logo { ... ì´ ìŠ¤íƒ€ì¼ì€ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. } */

.home-link {
    font-size: 1.6em; /* í…ìŠ¤íŠ¸ ë¡œê³  í¬ê¸° ì¡°ì • */
    font-weight: bold;
    color: #8a2be2; /* ë³´ë¼ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
    text-decoration: none;
    padding-left: 10px; /* ì™¼ìª½ ì—¬ë°± ì¶”ê°€ */
    display: flex; /* ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ë¥¼ ê°€ë¡œë¡œ ì •ë ¬í•˜ê¸° ìœ„í•´ ì¶”ê°€ */
    align-items: center; /* ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ë¥¼ ì„¸ë¡œë¡œ ê°€ìš´ë° ì •ë ¬í•˜ê¸° ìœ„í•´ ì¶”ê°€ */
}

/* í…ìŠ¤íŠ¸ ì˜†ì— ì˜¤ëŠ” ë¡œê³  ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
.header-logo {
    height: 2.5em; /* ë¶€ëª¨ í°íŠ¸ ì‚¬ì´ì¦ˆì— ë§ì¶° ì´ë¯¸ì§€ ë†’ì´ ì¡°ì ˆ */
    vertical-align: middle; /* í…ìŠ¤íŠ¸ì™€ ì„¸ë¡œ ê°€ìš´ë° ì •ë ¬ */
}

.header-right {
    display: flex;
    align-items: center; /* ì•„ì´ì½˜ê³¼ í…ìŠ¤íŠ¸ ìˆ˜ì§ ì •ë ¬ */
    gap: 15px; /* ë²„íŠ¼ ê°„ê²© */
    list-style: none; /* li íƒœê·¸ì˜ ê¸°ë³¸ ë¶ˆë¦¿ ì œê±° */
    padding: 0;
    margin: 0;
    padding-right: 0px;
}

.icon-btn {
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
    display: flex; /* ë‚´ë¶€ ìš”ì†Œ (ì´ëª¨ì§€) ì •ë ¬ì„ ìœ„í•´ flex ì‚¬ìš© */
    align-items: center;
    justify-content: center;
    text-decoration: none; /* ë§í¬ ë²„íŠ¼ì— ë°‘ì¤„ ì œê±° */
    color: inherit; /* ê¸°ë³¸ ê¸€ììƒ‰ ìƒì† */
    font-size: 2.0em; /* ì•„ì´ì½˜ í¬ê¸° ìœ ì§€ */
}

/* ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ í…ìŠ¤íŠ¸ ë§í¬ ìŠ¤íƒ€ì¼ */
.auth-link {
    background: none; /* ë²„íŠ¼ ê¸°ë³¸ ë°°ê²½ ì œê±° */
    border: none; /* ë²„íŠ¼ ê¸°ë³¸ í…Œë‘ë¦¬ ì œê±° */
    cursor: pointer;
    text-decoration: none;
    color: #555;
    font-weight: bold;
    padding: 5px 10px;
    transition: color 0.3s ease;
    font-size: 1.0em; /* í…ìŠ¤íŠ¸ í¬ê¸° ì¡°ì • */
    white-space: nowrap; /* í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ ë°©ì§€ */
}

.auth-link:hover {
    color: #8a2be2; /* í˜¸ë²„ ì‹œ ë³´ë¼ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
}

/* ë©”ì¸ ë‚´ë¹„ê²Œì´ì…˜ (êµ¿ì¦ˆìƒµ, ì„ í˜¸ë„ ì¡°ì‚¬, ì½˜ì„œíŠ¸) ìŠ¤íƒ€ì¼ */
.main-navigation {
    background-color: #f8f8f8;
    padding: 10px 0;
    border-top: 1px solid #eee; /* ìƒë‹¨ í—¤ë”ì™€ ë¶„ë¦¬ */
    margin-top: 10px; /* ìƒë‹¨ í—¤ë”ì™€ì˜ ê°„ê²© */
}

.main-navigation .menu-list {
    display: flex;
    justify-content: center;
    list-style: none;
    padding: 0;
    margin: 0;
    gap: 30px; /* ë©”ë‰´ í•­ëª© ê°„ ê°„ê²© */
}

.main-navigation .menu-item {
    text-decoration: none;
    color: #555;
    font-weight: bold;
    padding: 5px 10px;
    transition: color 0.3s ease;
    position: relative; /* ì„œë¸Œë©”ë‰´ ê¸°ì¤€ì  */
    display: block; /* ë§í¬ ì˜ì—­ í™•ì¥ */
}

.main-navigation .menu-item:hover {
    color: #8a2be2; /* í˜¸ë²„ ì‹œ ë³´ë¼ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
}

/* ì„œë¸Œë©”ë‰´ ìŠ¤íƒ€ì¼ */
.main-navigation .submenu {
    display: none; /* ê¸°ë³¸ ìˆ¨ê¹€ */
    position: absolute;
    background-color: #fff;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    min-width: 120px;
    z-index: 1001;
    list-style: none;
    padding: 10px 0;
    margin: 0;
    border-radius: 4px;
    top: 100%; /* ë¶€ëª¨ ë©”ë‰´ ì•„ë˜ ìœ„ì¹˜ */
    left: 50%; /* ê°€ìš´ë° ì •ë ¬ */
    transform: translateX(-50%);
}

.main-navigation li:hover > .submenu {
    display: block; /* ë¶€ëª¨ ë©”ë‰´ í˜¸ë²„ ì‹œ ì„œë¸Œë©”ë‰´ í‘œì‹œ */
}

.main-navigation .submenu li {
    padding: 0;
}

.main-navigation .submenu .menu-item {
    padding: 8px 15px;
    color: #333;
    white-space: nowrap; /* ì¤„ë°”ê¿ˆ ë°©ì§€ */
}

.main-navigation .submenu .menu-item:hover {
    background-color: #f0f0f0;
    color: #8a2be2; /* í˜¸ë²„ ì‹œ ë³´ë¼ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
}
</style>