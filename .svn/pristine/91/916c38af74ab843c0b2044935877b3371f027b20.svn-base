<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="jakarta.tags.core" prefix="c" %>
<%@ taglib uri="jakarta.tags.fmt" prefix="fmt" %>
<%@ taglib uri="jakarta.tags.functions" prefix="fn" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<jsp:include page="/WEB-INF/views/modules/communityHeader.jsp" />
<c:out value="${noticeVO }" />
<h3><c:out value="${noticeVO.comuNotiTitle }" /></h3>
<fmt:formatDate value="${noticeVO.comuNotiRegDate }" pattern="yyyy-MM-dd"/>
<c:out value="${noticeVO.comuNotiContent }" />
<div>
	<c:choose>
		<c:when test="${not empty noticeVO.attachmentFileList}">
			<c:forEach items="${noticeVO.attachmentFileList }" var="file">
				<c:set value="${file.fileMimeType }" var="mimeType" />
				<c:if test="${fn:contains(mimeType, 'image') }">
					<img  src="${file.webPath }">
				</c:if>
			</c:forEach>
		</c:when>
	</c:choose>
</div>
첨부된 파일
<div>
	<c:choose>
		<c:when test="${not empty noticeVO.attachmentFileList}">
			<c:forEach items="${noticeVO.attachmentFileList }" var="file">
				<c:set value="${file.fileMimeType }" var="mimeType" />
				<c:if test="${fn:contains(mimeType, 'text') }">
					<a href="/community/notice/file/download/${file.attachDetailNo }" download="<c:out value='${file.fileOriginalNm}'/>"><c:out value="${file.fileSaveNm }"/></a>
				</c:if>
			</c:forEach>
		</c:when>
	</c:choose>
</div>

</body>
</html>